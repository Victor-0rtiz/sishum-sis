!function(){let e,o,n;$.ajax({url:"/api/estudiantes/all",dataType:"json",success:function(e){console.log(e);$("#tablaEstudiantes").DataTable({data:e,columns:[{data:"Id"},{data:"Nombres"},{data:"Cod_estudiante"},{data:"Tutor_Nombres"},{data:"Id_grado_nombre"},{data:null,render:function(e,o,n){return'<button type="button" class="btn btn-primary btn-editar" data-bs-toggle="modal" data-bs-target="#editarModal">Editar</button> <button type="button" class="btn btn-danger">Borrar</button>'}}],language:{lengthMenu:"Mostrar _MENU_ registros por página",zeroRecords:"No se encontraron resultados",info:"Mostrando página _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}})},error:function(e,o,n){console.error(e.responseText)}}),$.ajax({url:"/api/sexo/all",dataType:"json",success:function(o){e=o,console.log(o,"del sexo"),$("#sexo").empty(),o.forEach((function(e){$("#sexo").append('<option value="'+e.Id+'">'+e.Nombre+"</option>")}))},error:function(e){}}),$.ajax({url:"/api/departamentos/all",dataType:"json",success:function(e){console.log(e,"del departamento"),$("#Departamento").empty(),e.forEach((function(e){$("#Departamento").append('<option value="'+e.IdDepartamento+'">'+e.Nombre+"</option>")}))},error:function(e){}}),$.ajax({url:"/api/municipios/all",dataType:"json",success:function(e){console.log(e,"del municipios"),$("#Municipio").empty(),e.forEach((function(e){$("#Municipio").append('<option value="'+e.IdMunicipio+'">'+e.Nombre+"</option>")}))},error:function(e){}}),$.ajax({url:"/api/tutores/all",dataType:"json",success:function(e){console.log(e,"de los tutores"),n=e},error:function(e,o,n){console.error(e.responseText)}}),$(document).ready((()=>{$('input[name="tutorExistente"]').change((function(){const a=$(this).val();$("#tutorchange").empty(),"2"===a?(o=2,console.log("Tutor existente seleccionado"),$("#tutorchange").append(" <form id='formTutorNuevo'>\n                <div class='mb-3'>\n                        <label for='nombresUsser' class='form-label'>Nombres</label>\n                        <input type='text' class='form-control' name='Nombres' id='nombresUsser'>\n                    </div>\n                    <div class='mb-3'>\n                        <label for='apellidosUsser' class='form-label'>Apellidos</label>\n                        <input type='text' class='form-control' name='Apellidos' id='apellidosUsser'>\n                    </div>\n                    <div class='mb-3'>\n                        <label for='Telefono' class='form-label'>Telefono</label>\n                        <input type='number' class='form-control' name='Telefono' id='Telefono'>\n                    </div>\n                    <div class='mb-3'>\n                        <label for='Cedula' class='form-label'>Cédula</label>\n                        <input type='text' class='form-control' name='Cedula' id='Cedula'>\n                    </div>\n                    <div class='mb-3'>\n                        <label for='Ocupacion' class='form-label'>Ocupación</label>\n                        <input type='text' class='form-control' name='Ocupacion' id='Ocupacion'>\n                    </div>\n                    <div class='mb-3'>\n                        <label for='Direccion' class='form-label'>Dirección</label>\n                        <textarea name='Direccion' id='Direccion' class='form-control'></textarea>\n                    </div>\n\n                    <div class='mb-3'>\n                        <label for='sexoTutor' class='form-label'>Sexo</label>\n                        <select class='form-select' name='Id_sexo' id='sexoTutor'>\n                        </select>\n                    </div>\n                </form>"),e.forEach((function(e){$("#sexoTutor").append('<option value="'+e.Id+'">'+e.Nombre+"</option>")}))):"1"===a&&(o=1,console.log("Nuevo tutor seleccionado"),$("#tutorchange").append("<form id='formTutorExistente'>\n\n                <div class='mb-3'>\n                        <label for='Tutor' class='form-label'>Tutor</label>\n                        <select class='form-select' name='Id_Tutor' id='Tutor'>\n                        </select>\n                    </div>\n\n\n                </form>"),n.forEach((function(e){$("#Tutor").append('<option value="'+e.Id+'">'+e.Nombres+" "+e.Apellidos+"</option>")})))})),$(document).ready((()=>{$("#GuardarEstudiante").click((()=>{const e=new FormData($("#formAddDatosPersonales")[0]),o=new FormData($("#formEstudiante")[0]);function n(e){let o={};return e.forEach(((e,n)=>{o[n]=e})),o}const a=n(e),t=n(o),r={datos_personales:a,estudiante:t},s=$("input[name='tutorExistente']:checked").val();if(s){if(1==s){const e=n(new FormData($("#formTutorExistente")[0]));r.TutorExistente=e,delete r.TutorNuevo}else{const e=n(new FormData($("#formTutorNuevo")[0]));r.TutorNuevo=e,delete r.TutorExistente}l(a)&&l(t)&&(1!=s||l(r.TutorExistente))&&(1==s||l(r.TutorNuevo))?console.log(r):alert("Todos los campos deben estar llenos.")}else alert("Debe seleccionar una opción de tutor.");function l(e){for(let o in e)if(""===e[o].trim())return!1;return!0}}))}))}))}();//# sourceMappingURL=tablaestudiantes.js.map
