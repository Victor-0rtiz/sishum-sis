!function(){async function o(){$.ajax({url:"/api/asignaturas/list",dataType:"json",success:function(o){console.log(o,"del listado de asignaturas");const a=$("#tablaAsignaturasList").DataTable();a.clear(),a.rows.add(o),a.draw(),o.forEach((function(o){$("#Asignatura").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}})}async function a(){$.ajax({url:"/api/asignaturas/all",dataType:"json",success:function(o){console.log(o);const a=$("#tablaAsignaturas").DataTable();a.clear(),a.rows.add(o),a.draw()},error:function(o,a,t){console.error(o.responseText)}})}$.ajax({url:"/api/asignaturas/all",dataType:"json",success:function(o){console.log(o);const a=$("#tablaAsignaturas").DataTable({data:o,columns:[{data:"Id"},{data:"Asignatura_Nombre"},{data:"Docente_Nombres"},{data:"Grado_Nombre"},{data:"Turno_Nombre"},{data:null,render:function(o,a,t){return`\n                            <button type="button" class="btn btn-primary btn-editarAsig" data-bs-toggle="modal" data-bs-target="#editarModalAsig" data-id="${t.id}">Editar</button>\n                           <button type="button" class="btn btn-danger btn-borrar" data-id="${t.Id}">Borrar</button>\n                                       `}}],language:{lengthMenu:"Mostrar _MENU_ registros por p치gina",zeroRecords:"No se encontraron resultados",info:"Mostrando p치gina _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}});$("#tablaAsignaturas tbody").on("click",".btn-editarAsig",(function(){const o=a.row($(this).parents("tr")).data();$("#Id_matAsig").val(o.Id),$("#Id_detalle_aniolectivo_gradoEdit").val(o.Id_detalle_aniolectivo_grado),$("#AnioLectivoEditAsig").val(o.Id_anio_lectivo),$("#GradoEditAsig").val(o.id_grado),$("#TurnoEditAsig").val(o.id_turno),$("#AsignaturaEditAsig").val(o.Id_asignatura),$("#DocenteEditAsig").val(o.Id_docente)}))},error:function(o,a,t){console.error(o.responseText)}}),$.ajax({url:"/api/asignaturas/list",dataType:"json",success:function(o){console.log(o,"del listado de asignaturas");const a=$("#tablaAsignaturasList").DataTable({data:o,columns:[{data:"Id"},{data:"Nombre"},{data:null,render:function(o,a,t){return`\n                            <button type="button" class="btn btn-primary btn-editar" data-bs-toggle="modal" data-bs-target="#editarModal" data-id="${t.id}">Editar</button>\n                           <button type="button" class="btn btn-danger btn-borrar" data-id="${t.Id}">Borrar</button>\n                                       `}}],language:{lengthMenu:"Mostrar _MENU_ registros por p치gina",zeroRecords:"No se encontraron resultados",info:"Mostrando p치gina _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}});$("#tablaAsignaturasList tbody").on("click",".btn-editar",(function(){const o=a.row($(this).parents("tr")).data();$("#Nombre_asignatura").val(o.Nombre),$("#Id_asignatura").val(o.Id)})),o.forEach((function(o){$("#Asignatura").append('<option value="'+o.Id+'">'+o.Nombre+"</option>"),$("#AsignaturaEditAsig").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}}),$("#tablaAsignaturasList").on("click",".btn-borrar",(function(){const a=$(this).data("id");console.log("eliminar el registro ID:",a),$.ajax({url:"/api/asignaturas/del",type:"POST",data:{Id:a},dataType:"json",success:async function(a){console.log(a);if(a.exito)return await o(),void await Swal.fire({icon:"success",html:'<span style="font-size: 1.5rem; font-weight: 900;">Eliminado Correctamente</span>',toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1})},error:function(o,a,t){console.error("Error:",t)}})})),$("#tablaAsignaturas").on("click",".btn-borrar",(function(){const o=$(this).data("id");console.log("eliminar el registro ID:",o),$.ajax({url:"/api/asignaturas/detalle/del",type:"POST",data:{Id:o},dataType:"json",success:async function(o){console.log(o);if(o.exito)return await a(),void await Swal.fire({icon:"success",html:'<span style="font-size: 1.5rem; font-weight: 900;">Eliminado Correctamente</span>',toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1})},error:function(o,a,t){console.error("Error:",t)}})})),$(document).ready((()=>{$("#formAsignatura").on("submit",(function(t){t.preventDefault();const n=new FormData($("#formAsignatura")[0]);const e=function(o){let a={};return o.forEach(((o,t)=>{a[t]=o})),a}(n);""!=Object.values(e)?(console.log(n),$.ajax({url:"/api/asignaturas/add",type:"POST",data:e,dataType:"json",success:async function(t){if(console.log(t,"de agregar"),t.exito)return await o(),await a(),$("#agregarAsignaturaModal").modal("hide"),void await Swal.fire({icon:"success",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.exito}</span>`,toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1});t.error&&await Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"#FFB8B8",showConfirmButton:!1})},error:function(o,a,t){console.error(o.responseText)}})):Swal.fire({icon:"error",html:'<span style="font-size: 1.5rem; font-weight: 900;">El nombre no puede ir vacio</span>',toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"rgb(231, 184, 184)",showConfirmButton:!1})})),$("#formAsignaturaEdit").on("submit",(function(t){t.preventDefault();const n=function(o){let a={};return o.forEach(((o,t)=>{a[t]=o})),a}(new FormData($("#formAsignaturaEdit")[0]));""!=Object.values(n)?$.ajax({url:"/api/asignaturas/edit",type:"POST",data:n,dataType:"json",success:async function(t){if(console.log(t,"de agregar"),t.exito)return await o(),await a(),$("#editarModal").modal("hide"),void await Swal.fire({icon:"success",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.exito}</span>`,toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1});t.error&&await Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"#FFB8B8",showConfirmButton:!1})},error:function(o,a,t){console.error(o.responseText)}}):Swal.fire({icon:"error",html:'<span style="font-size: 1.5rem; font-weight: 900;">El nombre no puede ir vacio</span>',toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"rgb(231, 184, 184)",showConfirmButton:!1})})),$("#formAsigAnioLec").on("submit",(function(t){t.preventDefault();const n=function(o){let a={};return o.forEach(((o,t)=>{a[t]=o})),a}(new FormData($("#formAsigAnioLec")[0]));console.log(n),$.ajax({url:"/api/asignaturas-asignadas/add",type:"POST",data:n,dataType:"json",success:async function(t){if(console.log(t,"de agregar asignatura asignada"),t.exito)return await a(),await o(),$("#agregarAsignaturaGradoModal").modal("hide"),void await Swal.fire({icon:"success",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.exito}</span>`,toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1});t.error&&await Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"#FFB8B8",showConfirmButton:!1})},error:function(o,a,t){console.error(o.responseText)}})})),$("#formAsigAnioLecEdit").on("submit",(function(t){t.preventDefault();const n=function(o){let a={};return o.forEach(((o,t)=>{a[t]=o})),a}(new FormData($("#formAsigAnioLecEdit")[0]));$.ajax({url:"/api/asignaturas-asignadas/edit",type:"POST",data:n,dataType:"json",success:async function(t){if(console.log(n,"enviado"),console.log(t,"de agregar asignatura asignada mod?"),t.exito)return await a(),await o(),$("#editarModalAsig").modal("hide"),void await Swal.fire({icon:"success",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.exito}</span>`,toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1});t.error&&await Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${t.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"#FFB8B8",showConfirmButton:!1})},error:function(o,a,t){console.error(o.responseText)}})}))})),$.ajax({url:"/api/grados/all",dataType:"json",success:function(o){console.log(o,"del listado del grado"),o.forEach((function(o){$("#Grado").append('<option value="'+o.Id+'">'+o.Nombre+"</option>"),$("#GradoEditAsig").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}}),$.ajax({url:"/api/turnos/all",dataType:"json",success:function(o){console.log(o,"del listado del turno"),o.forEach((function(o){$("#Turno").append('<option value="'+o.Id+'">'+o.Nombre+"</option>"),$("#TurnoEditAsig").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}}),$.ajax({url:"/api/anioslectivos/all",dataType:"json",success:function(o){console.log(o,"del listado del anio lectivo"),o.forEach((function(o){$("#AnioLectivo").append('<option value="'+o.Id+'">'+o.anio+"</option>"),$("#AnioLectivoEditAsig").append('<option value="'+o.Id+'">'+o.anio+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}}),$.ajax({url:"/api/docentes/all",dataType:"json",success:function(o){console.log(o,"del listado del docente"),o.forEach((function(o){$("#Docente").append('<option value="'+o.Id+'">'+o.Nombres+" "+o.Apellidos+"</option>"),$("#DocenteEditAsig").append('<option value="'+o.Id+'">'+o.Nombres+" "+o.Apellidos+"</option>")}))},error:function(o,a,t){console.error(o.responseText)}})}();//# sourceMappingURL=tablaasignaturas.js.map
