!function(){const a=new URLSearchParams(window.location.search).get("dga");async function o(){$.ajax({url:"/api/calificaciones/notas/all",type:"POST",data:{dga:a},dataType:"json",success:function(a){console.log(a);$("#tablaCaliAsign").DataTable({destroy:!0,data:a,columns:[{data:"Id"},{data:"Nombres"},{data:"Nota"},{data:null,render:function(a,o,t){return`\n                            <button type="button" class="btn btn-primary btn-editar" data-bs-toggle="modal" data-bs-target="#editarModal" data-id="${t.id}">Editar</button>\n                           <button type="button" class="btn btn-danger btn-borrar" data-id="${t.Id}">Borrar</button>\n                                       `}}],language:{lengthMenu:"Mostrar _MENU_ registros por p치gina",zeroRecords:"No se encontraron resultados",info:"Mostrando p치gina _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}})},error:function(a,o,t){console.error(a.responseText)}})}console.log("dga",a),$.ajax({url:"/api/calificaciones/notas/all",type:"POST",data:{dga:a},dataType:"json",success:function(a){console.log(a);$("#tablaCaliAsign").DataTable({data:a,columns:[{data:"Id"},{data:"Nombres"},{data:"Nota"},{data:null,render:function(a,o,t){return`\n                            <button type="button" class="btn btn-primary btn-editar" data-bs-toggle="modal" data-bs-target="#editarModal" data-id="${t.id}">Editar</button>\n                           <button type="button" class="btn btn-danger btn-borrar" data-id="${t.Id}">Borrar</button>\n                                       `}}],language:{lengthMenu:"Mostrar _MENU_ registros por p치gina",zeroRecords:"No se encontraron resultados",info:"Mostrando p치gina _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}})},error:function(a,o,t){console.error(a.responseText)}}),$("#tablaCaliAsign").on("click",".btn-borrar",(function(){const a=$(this).data("id");console.log("eliminar el registro ID:",a),$.ajax({url:"/api/calificaciones/notas/del",type:"POST",data:{Id:a},dataType:"json",success:async function(a){console.log(a);if(a.exito)return await o(),void await Swal.fire({icon:"success",html:'<span style="font-size: 1.5rem; font-weight: 900;">Eliminado Correctamente</span>',toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1})},error:function(a,o,t){console.error("Error:",t)}})})),$.ajax({url:"/api/matricula-grado/all",type:"POST",data:{dga:a},dataType:"json",success:function(a){console.log(a,"de la respuesta de ma gra"),a.forEach((function(a){$("#estudiante").append('<option value="'+a.Id+'">'+a.Nombres+" "+a.Apellidos+"</option>")}))},error:function(a,o,t){console.error(a.responseText)}}),$(document).ready((()=>{$("#GuardarNota").click((async()=>{let t=new FormData($("#FormDataNotas")[0]);t=function(a){let o={};return a.forEach(((a,t)=>{o[t]=a})),o}(t),t.id_detalle_grado_asignatura=a,$.ajax({url:"/api/calificaciones/notas/add",type:"POST",data:t,dataType:"json",success:async function(a){if(console.log(a,"de la respuesta agregar"),a.exito)return await o(),$("#asignarNotasMat").modal("hide"),void await Swal.fire({icon:"success",html:`<span style="font-size: 1.5rem; font-weight: 900;">${a.exito}</span>`,toast:!0,position:"bottom-end",iconColor:"green",timer:1500,padding:"2rem",background:"#B8FFB8",showConfirmButton:!1});a.error?await Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${a.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"#FFB8B8",showConfirmButton:!1}):a.alert&&await Swal.fire({icon:"warning",html:`<span style="font-size: 1.5rem; font-weight: 900;">${a.alert}</span>`,toast:!0,position:"bottom-end",iconColor:"yellow",timer:1500,padding:"2rem",background:"#F6FBC2",showConfirmButton:!1})},error:function(a,o,t){console.error(a.responseText)}})}))}))}();//# sourceMappingURL=tablacalificacionesnotas.js.map
