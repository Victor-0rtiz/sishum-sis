$.ajax({url:"/api/usuarios/all",dataType:"json",success:function(o){console.log(o);const a=$("#tablaUsuarios").DataTable({data:o,columns:[{data:"Id"},{data:"usser"},{data:"Nombre"},{data:null,render:function(o,a,r){return'<button type="button" class="btn btn-primary btn-editar" data-bs-toggle="modal" data-bs-target="#editarModal">Editar</button> <button type="button" class="btn btn-danger">Borrar</button>'}}],language:{lengthMenu:"Mostrar _MENU_ registros por página",zeroRecords:"No se encontraron resultados",info:"Mostrando página _PAGE_ de _PAGES_",infoEmpty:"No hay registros disponibles",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar:",loadingRecords:"Cargando...",processing:"Procesando...",emptyTable:"No hay datos disponibles en la tabla",aria:{sortAscending:": activar para ordenar la columna de manera ascendente",sortDescending:": activar para ordenar la columna de manera descendente"}}});$("#tablaUsuarios tbody").on("click",".btn-editar",(function(){const o=a.row($(this).parents("tr")).data();$("#editarId").val(o.Id),$("#editarUsser").val(o.usser),$("#editarIdTipoUsuario").val(o.Id_Tipo_Usuario)}))},error:function(o,a,r){}}),$.ajax({url:"/api/usuarios/tipouser",dataType:"json",success:function(o){console.log(o,"del tipo"),$("#editarIdTipoUsuario").empty(),o.forEach((function(o){$("#editarIdTipoUsuario").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")})),$("#agregarIdTipoUsuario").empty(),o.forEach((function(o){$("#agregarIdTipoUsuario").append('<option value="'+o.Id+'">'+o.Nombre+"</option>")}))},error:function(o){}}),$("#formEditarUsuario").on("submit",(function(o){o.preventDefault();const a=$(this).serialize();console.log(a),$.ajax({url:"/api/usuarios/add",type:"POST",data:a,dataType:"json",success:function(o){console.log(o),$("#addModal").modal("hide")},error:function(o,a,r){console.error(o.responseText)}})})),$("#formAddUsuario").on("submit",(function(o){o.preventDefault();const a=$(this).serialize();console.log(a),$.ajax({url:"/api/usuarios/add",type:"POST",data:a,dataType:"json",success:function(o){console.log(o),o.error&&Swal.fire({icon:"error",html:`<span style="font-size: 1.5rem; font-weight: 900;">${o.error}</span>`,toast:!0,position:"bottom-end",iconColor:"red",timer:1500,padding:"2rem",background:"rgb(231, 184, 184)",showConfirmButton:!1}),$("#addModal").modal("hide")},error:function(o,a,r){console.error(o.responseText)}})}));